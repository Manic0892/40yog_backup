!function(e){"use strict";if(Number.prototype.map=function(e,t,s,n){return s+(n-s)*((this-e)/(t-e))},Number.prototype.limit=function(e,t){return Math.min(t,Math.max(e,this))},Number.prototype.round=function(e){return e=Math.pow(10,e||0),Math.round(this*e)/e},Number.prototype.floor=function(){return Math.floor(this)},Number.prototype.ceil=function(){return Math.ceil(this)},Number.prototype.toInt=function(){return 0|this},Number.prototype.toRad=function(){return this/180*Math.PI},Number.prototype.toDeg=function(){return 180*this/Math.PI},Array.prototype.erase=function(e){for(var t=this.length;t--;)this[t]===e&&this.splice(t,1);return this},Array.prototype.random=function(){return this[Math.floor(Math.random()*this.length)]},Function.prototype.bind=Function.prototype.bind||function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),s=this,n=function(){},i=function(){return s.apply(this instanceof n&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,i.prototype=new n,i},e.ig={game:null,debug:null,version:"1.22",global:e,modules:{},resources:[],ready:!1,baked:!1,nocache:"",ua:{},prefix:e.ImpactPrefix||"",lib:"lib/",_current:null,_loadQueue:[],_waitForOnload:0,$:function(e){return"#"==e.charAt(0)?document.getElementById(e.substr(1)):document.getElementsByTagName(e)},$new:function(e){return document.createElement(e)},copy:function(e){if(!e||"object"!=typeof e||e instanceof HTMLElement||e instanceof ig.Class)return e;if(e instanceof Array){for(var t=[],s=0,n=e.length;n>s;s++)t[s]=ig.copy(e[s]);return t}var t={};for(var s in e)t[s]=ig.copy(e[s]);return t},merge:function(e,t){for(var s in t){var n=t[s];"object"!=typeof n||n instanceof HTMLElement||n instanceof ig.Class?e[s]=n:(e[s]&&"object"==typeof e[s]||(e[s]=n instanceof Array?[]:{}),ig.merge(e[s],n))}return e},ksort:function(e){if(!e||"object"!=typeof e)return[];var t=[],s=[];for(var n in e)t.push(n);t.sort();for(var n=0;n<t.length;n++)s.push(e[t[n]]);return s},setVendorAttribute:function(e,t,s){var n=t.charAt(0).toUpperCase()+t.substr(1);e[t]=e["ms"+n]=e["moz"+n]=e["webkit"+n]=e["o"+n]=s},getVendorAttribute:function(e,t){var s=t.charAt(0).toUpperCase()+t.substr(1);return e[t]||e["ms"+s]||e["moz"+s]||e["webkit"+s]||e["o"+s]},normalizeVendorAttribute:function(e,t){var s=ig.getVendorAttribute(e,t);!e[t]&&s&&(e[t]=s)},getImagePixels:function(e,t,s,n,i){var r=ig.$new("canvas");r.width=e.width,r.height=e.height;var a=r.getContext("2d");ig.System.SCALE.CRISP(r,a);var o=ig.getVendorAttribute(a,"backingStorePixelRatio")||1;ig.normalizeVendorAttribute(a,"getImageDataHD");var u=e.width/o,l=e.height/o;return r.width=Math.ceil(u),r.height=Math.ceil(l),a.drawImage(e,0,0,u,l),1===o?a.getImageData(t,s,n,i):a.getImageDataHD(t,s,n,i)},module:function(e){if(ig._current)throw"Module '"+ig._current.name+"' defines nothing";if(ig.modules[e]&&ig.modules[e].body)throw"Module '"+e+"' is already defined";return ig._current={name:e,requires:[],loaded:!1,body:null},ig.modules[e]=ig._current,ig._loadQueue.push(ig._current),ig},requires:function(){return ig._current.requires=Array.prototype.slice.call(arguments),ig},defines:function(e){ig._current.body=e,ig._current=null,ig._initDOMReady()},addResource:function(e){ig.resources.push(e)},setNocache:function(e){ig.nocache=e?"?"+Date.now():""},log:function(){},assert:function(){},show:function(){},mark:function(){},_loadScript:function(e,t){ig.modules[e]={name:e,requires:[],loaded:!1,body:null},ig._waitForOnload++;var s=ig.prefix+ig.lib+e.replace(/\./g,"/")+".js"+ig.nocache,n=ig.$new("script");n.type="text/javascript",n.src=s,n.onload=function(){ig._waitForOnload--,ig._execModules()},n.onerror=function(){throw"Failed to load module "+e+" at "+s+" "+"required from "+t},ig.$("head")[0].appendChild(n)},_execModules:function(){for(var e=!1,t=0;t<ig._loadQueue.length;t++){for(var s=ig._loadQueue[t],n=!0,i=0;i<s.requires.length;i++){var r=s.requires[i];ig.modules[r]?ig.modules[r].loaded||(n=!1):(n=!1,ig._loadScript(r,s.name))}n&&s.body&&(ig._loadQueue.splice(t,1),s.loaded=!0,s.body(),e=!0,t--)}if(e)ig._execModules();else if(!ig.baked&&0==ig._waitForOnload&&0!=ig._loadQueue.length){for(var a=[],t=0;t<ig._loadQueue.length;t++){for(var o=[],u=ig._loadQueue[t].requires,i=0;i<u.length;i++){var s=ig.modules[u[i]];s&&s.loaded||o.push(u[i])}a.push(ig._loadQueue[t].name+" (requires: "+o.join(", ")+")")}throw"Unresolved (circular?) dependencies. Most likely there's a name/path mismatch for one of the listed modules:\n"+a.join("\n")}},_DOMReady:function(){if(!ig.modules["dom.ready"].loaded){if(!document.body)return setTimeout(ig._DOMReady,13);ig.modules["dom.ready"].loaded=!0,ig._waitForOnload--,ig._execModules()}return 0},_boot:function(){document.location.href.match(/\?nocache/)&&ig.setNocache(!0),ig.ua.pixelRatio=e.devicePixelRatio||1,ig.ua.viewport={width:e.innerWidth,height:e.innerHeight},ig.ua.screen={width:e.screen.availWidth*ig.ua.pixelRatio,height:e.screen.availHeight*ig.ua.pixelRatio},ig.ua.iPhone=/iPhone/i.test(navigator.userAgent),ig.ua.iPhone4=ig.ua.iPhone&&2==ig.ua.pixelRatio,ig.ua.iPad=/iPad/i.test(navigator.userAgent),ig.ua.android=/android/i.test(navigator.userAgent),ig.ua.winPhone=/Windows Phone/i.test(navigator.userAgent),ig.ua.iOS=ig.ua.iPhone||ig.ua.iPad,ig.ua.mobile=ig.ua.iOS||ig.ua.android||ig.ua.winPhone,ig.ua.touchDevice="ontouchstart"in e||e.navigator.msMaxTouchPoints},_initDOMReady:function(){return ig.modules["dom.ready"]?(ig._execModules(),void 0):(ig._boot(),ig.modules["dom.ready"]={requires:[],loaded:!1,body:null},ig._waitForOnload++,"complete"===document.readyState?ig._DOMReady():(document.addEventListener("DOMContentLoaded",ig._DOMReady,!1),e.addEventListener("load",ig._DOMReady,!1)),void 0)}},ig.normalizeVendorAttribute(e,"requestAnimationFrame"),e.requestAnimationFrame){var t=1,s={};e.ig.setAnimation=function(n,i){var r=t++;s[r]=!0;var a=function(){s[r]&&(e.requestAnimationFrame(a,i),n())};return e.requestAnimationFrame(a,i),r},e.ig.clearAnimation=function(e){delete s[e]}}else e.ig.setAnimation=function(t){return e.setInterval(t,1e3/60)},e.ig.clearAnimation=function(t){e.clearInterval(t)};var n=!1,i=/xyz/.test(function(){})?/\bparent\b/:/.*/;e.ig.Class=function(){};var r=function(e){var t=this.prototype,s={};for(var n in e)"function"==typeof e[n]&&"function"==typeof t[n]&&i.test(e[n])?(s[n]=t[n],t[n]=function(e,t){return function(){var n=this.parent;this.parent=s[e];var i=t.apply(this,arguments);return this.parent=n,i}}(n,e[n])):t[n]=e[n]};e.ig.Class.extend=function(t){function s(){if(!n){if(this.staticInstantiate){var e=this.staticInstantiate.apply(this,arguments);if(e)return e}for(var t in this)"object"==typeof this[t]&&(this[t]=ig.copy(this[t]));this.init&&this.init.apply(this,arguments)}return this}var a=this.prototype;n=!0;var o=new this;n=!1;for(var u in t)o[u]="function"==typeof t[u]&&"function"==typeof a[u]&&i.test(t[u])?function(e,t){return function(){var s=this.parent;this.parent=a[e];var n=t.apply(this,arguments);return this.parent=s,n}}(u,t[u]):t[u];return s.prototype=o,s.prototype.constructor=s,s.extend=e.ig.Class.extend,s.inject=r,s},e.ImpactMixin&&ig.merge(ig,e.ImpactMixin)}(window),ig.baked=!0,ig.module("impact.image").defines(function(){"use strict";ig.Image=ig.Class.extend({data:null,width:0,height:0,loaded:!1,failed:!1,loadCallback:null,path:"",staticInstantiate:function(e){return ig.Image.cache[e]||null},init:function(e){this.path=e,this.load()},load:function(e){return this.loaded?(e&&e(this.path,!0),void 0):(!this.loaded&&ig.ready?(this.loadCallback=e||null,this.data=new Image,this.data.onload=this.onload.bind(this),this.data.onerror=this.onerror.bind(this),this.data.src=ig.prefix+this.path+ig.nocache):ig.addResource(this),ig.Image.cache[this.path]=this,void 0)},reload:function(){this.loaded=!1,this.data=new Image,this.data.onload=this.onload.bind(this),this.data.src=this.path+"?"+Date.now()},onload:function(){this.width=this.data.width,this.height=this.data.height,this.loaded=!0,1!=ig.system.scale&&this.resize(ig.system.scale),this.loadCallback&&this.loadCallback(this.path,!0)},onerror:function(){this.failed=!0,this.loadCallback&&this.loadCallback(this.path,!1)},resize:function(e){var t=ig.getImagePixels(this.data,0,0,this.width,this.height),s=this.width*e,n=this.height*e,i=ig.$new("canvas");i.width=s,i.height=n;for(var r=i.getContext("2d"),a=r.getImageData(0,0,s,n),o=0;n>o;o++)for(var u=0;s>u;u++){var l=4*(Math.floor(o/e)*this.width+Math.floor(u/e)),h=4*(o*s+u);a.data[h]=t.data[l],a.data[h+1]=t.data[l+1],a.data[h+2]=t.data[l+2],a.data[h+3]=t.data[l+3]}r.putImageData(a,0,0),this.data=i},draw:function(e,t,s,n,i,r){if(this.loaded){var a=ig.system.scale;s=s?s*a:0,n=n?n*a:0,i=(i?i:this.width)*a,r=(r?r:this.height)*a,ig.system.context.drawImage(this.data,s,n,i,r,ig.system.getDrawPos(e),ig.system.getDrawPos(t),i,r),ig.Image.drawCount++}},drawTile:function(e,t,s,n,i,r,a){if(i=i?i:n,!(!this.loaded||n>this.width||i>this.height)){var o=ig.system.scale,u=Math.floor(n*o),l=Math.floor(i*o),h=r?-1:1,c=a?-1:1;(r||a)&&(ig.system.context.save(),ig.system.context.scale(h,c)),ig.system.context.drawImage(this.data,Math.floor(s*n)%this.width*o,Math.floor(s*n/this.width)*i*o,u,l,ig.system.getDrawPos(e)*h-(r?u:0),ig.system.getDrawPos(t)*c-(a?l:0),u,l),(r||a)&&ig.system.context.restore(),ig.Image.drawCount++}}}),ig.Image.drawCount=0,ig.Image.cache={},ig.Image.reloadCache=function(){for(var e in ig.Image.cache)ig.Image.cache[e].reload()}}),ig.baked=!0,ig.module("impact.font").requires("impact.image").defines(function(){"use strict";ig.Font=ig.Image.extend({widthMap:[],indices:[],firstChar:32,alpha:1,letterSpacing:1,lineSpacing:0,onload:function(e){this._loadMetrics(this.data),this.parent(e)},widthForString:function(e){if(-1!==e.indexOf("\n")){for(var t=e.split("\n"),s=0,n=0;n<t.length;n++)s=Math.max(s,this._widthForLine(t[n]));return s}return this._widthForLine(e)},_widthForLine:function(e){for(var t=0,s=0;s<e.length;s++)t+=this.widthMap[e.charCodeAt(s)-this.firstChar]+this.letterSpacing;return t},heightForString:function(e){return e.split("\n").length*(this.height+this.lineSpacing)},draw:function(e,t,s,n){if("string"!=typeof e&&(e=e.toString()),-1===e.indexOf("\n")){if(n==ig.Font.ALIGN.RIGHT||n==ig.Font.ALIGN.CENTER){var i=this._widthForLine(e);t-=n==ig.Font.ALIGN.CENTER?i/2:i}1!==this.alpha&&(ig.system.context.globalAlpha=this.alpha);for(var r=0;r<e.length;r++){var a=e.charCodeAt(r);t+=this._drawChar(a-this.firstChar,t,s)}1!==this.alpha&&(ig.system.context.globalAlpha=1),ig.Image.drawCount+=e.length}else for(var o=e.split("\n"),u=this.height+this.lineSpacing,r=0;r<o.length;r++)this.draw(o[r],t,s+r*u,n)},_drawChar:function(e,t,s){if(!this.loaded||0>e||e>=this.indices.length)return 0;var n=ig.system.scale,i=this.indices[e]*n,r=0,a=this.widthMap[e]*n,o=(this.height-2)*n;return ig.system.context.drawImage(this.data,i,r,a,o,ig.system.getDrawPos(t),ig.system.getDrawPos(s),a,o),this.widthMap[e]+this.letterSpacing},_loadMetrics:function(e){this.height=e.height-1,this.widthMap=[],this.indices=[];for(var t=ig.getImagePixels(e,0,e.height-1,e.width,1),s=0,n=0,i=0;i<e.width;i++){var r=4*i+3;t.data[r]>127?n++:t.data[r]<128&&n&&(this.widthMap.push(n),this.indices.push(i-n),s++,n=0)}this.widthMap.push(n),this.indices.push(i-n)}}),ig.Font.ALIGN={LEFT:0,RIGHT:1,CENTER:2}}),ig.baked=!0,ig.module("impact.sound").defines(function(){"use strict";ig.SoundManager=ig.Class.extend({clips:{},volume:1,format:null,init:function(){if(!ig.Sound.enabled||!window.Audio)return ig.Sound.enabled=!1,void 0;for(var e=new Audio,t=0;t<ig.Sound.use.length;t++){var s=ig.Sound.use[t];if(e.canPlayType(s.mime)){this.format=s;break}}this.format||(ig.Sound.enabled=!1)},load:function(e,t,s){var n=ig.prefix+e.replace(/[^\.]+$/,this.format.ext)+ig.nocache;if(this.clips[e]){if(t&&this.clips[e].length<ig.Sound.channels)for(var i=this.clips[e].length;i<ig.Sound.channels;i++){var r=new Audio(n);r.load(),this.clips[e].push(r)}return this.clips[e][0]}var a=new Audio(n);if(s&&(a.addEventListener("canplaythrough",function o(t){a.removeEventListener("canplaythrough",o,!1),s(e,!0,t)},!1),a.addEventListener("error",function(t){s(e,!1,t)},!1)),a.preload="auto",a.load(),this.clips[e]=[a],t)for(var i=1;i<ig.Sound.channels;i++){var r=new Audio(n);r.load(),this.clips[e].push(r)}return a},get:function(e){for(var t,s=this.clips[e],n=0;t=s[n++];)if(t.paused||t.ended)return t.ended&&(t.currentTime=0),t;return s[0].pause(),s[0].currentTime=0,s[0]}}),ig.Music=ig.Class.extend({tracks:[],namedTracks:{},currentTrack:null,currentIndex:0,random:!1,_volume:1,_loop:!1,_fadeInterval:0,_fadeTimer:null,_endedCallbackBound:null,init:function(){this._endedCallbackBound=this._endedCallback.bind(this),Object.defineProperty?(Object.defineProperty(this,"volume",{get:this.getVolume.bind(this),set:this.setVolume.bind(this)}),Object.defineProperty(this,"loop",{get:this.getLooping.bind(this),set:this.setLooping.bind(this)})):this.__defineGetter__&&(this.__defineGetter__("volume",this.getVolume.bind(this)),this.__defineSetter__("volume",this.setVolume.bind(this)),this.__defineGetter__("loop",this.getLooping.bind(this)),this.__defineSetter__("loop",this.setLooping.bind(this)))},add:function(e,t){if(ig.Sound.enabled){var s=e instanceof ig.Sound?e.path:e,n=ig.soundManager.load(s,!1);n.loop=this._loop,n.volume=this._volume,n.addEventListener("ended",this._endedCallbackBound,!1),this.tracks.push(n),t&&(this.namedTracks[t]=n),this.currentTrack||(this.currentTrack=n)}},next:function(){this.tracks.length&&(this.stop(),this.currentIndex=this.random?Math.floor(Math.random()*this.tracks.length):(this.currentIndex+1)%this.tracks.length,this.currentTrack=this.tracks[this.currentIndex],this.play())},pause:function(){this.currentTrack&&this.currentTrack.pause()},stop:function(){this.currentTrack&&(this.currentTrack.pause(),this.currentTrack.currentTime=0)},play:function(e){if(e&&this.namedTracks[e]){var t=this.namedTracks[e];t!=this.currentTrack&&(this.stop(),this.currentTrack=t)}else if(!this.currentTrack)return;this.currentTrack.play()},getLooping:function(){return this._loop},setLooping:function(e){this._loop=e;for(var t in this.tracks)this.tracks[t].loop=e},getVolume:function(){return this._volume},setVolume:function(e){this._volume=e.limit(0,1);for(var t in this.tracks)this.tracks[t].volume=this._volume},fadeOut:function(e){this.currentTrack&&(clearInterval(this._fadeInterval),this.fadeTimer=new ig.Timer(e),this._fadeInterval=setInterval(this._fadeStep.bind(this),50))},_fadeStep:function(){var e=this.fadeTimer.delta().map(-this.fadeTimer.target,0,1,0).limit(0,1)*this._volume;.01>=e?(this.stop(),this.currentTrack.volume=this._volume,clearInterval(this._fadeInterval)):this.currentTrack.volume=e},_endedCallback:function(){this._loop?this.play():this.next()}}),ig.Sound=ig.Class.extend({path:"",volume:1,currentClip:null,multiChannel:!0,init:function(e,t){this.path=e,this.multiChannel=t!==!1,this.load()},load:function(e){return ig.Sound.enabled?(ig.ready?ig.soundManager.load(this.path,this.multiChannel,e):ig.addResource(this),void 0):(e&&e(this.path,!0),void 0)},play:function(){ig.Sound.enabled&&(this.currentClip=ig.soundManager.get(this.path),this.currentClip.volume=ig.soundManager.volume*this.volume,this.currentClip.play())},stop:function(){this.currentClip&&(this.currentClip.pause(),this.currentClip.currentTime=0)}}),ig.Sound.FORMAT={MP3:{ext:"mp3",mime:"audio/mpeg"},M4A:{ext:"m4a",mime:"audio/mp4; codecs=mp4a"},OGG:{ext:"ogg",mime:"audio/ogg; codecs=vorbis"},WEBM:{ext:"webm",mime:"audio/webm; codecs=vorbis"},CAF:{ext:"caf",mime:"audio/x-caf"}},ig.Sound.use=[ig.Sound.FORMAT.OGG,ig.Sound.FORMAT.MP3],ig.Sound.channels=4,ig.Sound.enabled=!0}),ig.baked=!0,ig.module("impact.loader").requires("impact.image","impact.font","impact.sound").defines(function(){"use strict";ig.Loader=ig.Class.extend({resources:[],gameClass:null,status:0,done:!1,_unloaded:[],_drawStatus:0,_intervalId:0,_loadCallbackBound:null,init:function(e,t){this.gameClass=e,this.resources=t,this._loadCallbackBound=this._loadCallback.bind(this);for(var s=0;s<this.resources.length;s++)this._unloaded.push(this.resources[s].path)},load:function(){if(ig.system.clear("#000"),!this.resources.length)return this.end(),void 0;for(var e=0;e<this.resources.length;e++)this.loadResource(this.resources[e]);this._intervalId=setInterval(this.draw.bind(this),16)},loadResource:function(e){e.load(this._loadCallbackBound)},end:function(){this.done||(this.done=!0,clearInterval(this._intervalId),ig.system.setGame(this.gameClass))},draw:function(){this._drawStatus+=(this.status-this._drawStatus)/5;var e=ig.system.scale,t=.6*ig.system.width,s=.1*ig.system.height,n=.5*ig.system.width-t/2,i=.5*ig.system.height-s/2;ig.system.context.fillStyle="#000",ig.system.context.fillRect(0,0,480,320),ig.system.context.fillStyle="#fff",ig.system.context.fillRect(n*e,i*e,t*e,s*e),ig.system.context.fillStyle="#000",ig.system.context.fillRect(n*e+e,i*e+e,t*e-e-e,s*e-e-e),ig.system.context.fillStyle="#fff",ig.system.context.fillRect(n*e,i*e,t*e*this._drawStatus,s*e)},_loadCallback:function(e,t){if(!t)throw"Failed to load resource: "+e;this._unloaded.erase(e),this.status=1-this._unloaded.length/this.resources.length,0==this._unloaded.length&&setTimeout(this.end.bind(this),250)}})}),ig.baked=!0,ig.module("impact.timer").defines(function(){"use strict";ig.Timer=ig.Class.extend({target:0,base:0,last:0,pausedAt:0,init:function(e){this.base=ig.Timer.time,this.last=ig.Timer.time,this.target=e||0},set:function(e){this.target=e||0,this.base=ig.Timer.time,this.pausedAt=0},reset:function(){this.base=ig.Timer.time,this.pausedAt=0},tick:function(){var e=ig.Timer.time-this.last;return this.last=ig.Timer.time,this.pausedAt?0:e},delta:function(){return(this.pausedAt||ig.Timer.time)-this.base-this.target},pause:function(){this.pausedAt||(this.pausedAt=ig.Timer.time)},unpause:function(){this.pausedAt&&(this.base+=ig.Timer.time-this.pausedAt,this.pausedAt=0)}}),ig.Timer._last=0,ig.Timer.time=Number.MIN_VALUE,ig.Timer.timeScale=1,ig.Timer.maxStep=.05,ig.Timer.step=function(){var e=Date.now(),t=(e-ig.Timer._last)/1e3;ig.Timer.time+=Math.min(t,ig.Timer.maxStep)*ig.Timer.timeScale,ig.Timer._last=e}}),ig.baked=!0,ig.module("impact.system").requires("impact.timer","impact.image").defines(function(){"use strict";ig.System=ig.Class.extend({fps:30,width:320,height:240,realWidth:320,realHeight:240,scale:1,tick:0,animationId:0,newGameClass:null,running:!1,delegate:null,clock:null,canvas:null,context:null,init:function(e,t,s,n,i){this.fps=t,this.clock=new ig.Timer,this.canvas=ig.$(e),this.resize(s,n,i),this.context=this.canvas.getContext("2d"),this.getDrawPos=ig.System.drawMode,1!=this.scale&&(ig.System.scaleMode=ig.System.SCALE.CRISP),ig.System.scaleMode(this.canvas,this.context)},resize:function(e,t,s){this.width=e,this.height=t,this.scale=s||this.scale,this.realWidth=this.width*this.scale,this.realHeight=this.height*this.scale,this.canvas.width=this.realWidth,this.canvas.height=this.realHeight},setGame:function(e){this.running?this.newGameClass=e:this.setGameNow(e)},setGameNow:function(e){ig.game=new e,ig.system.setDelegate(ig.game)},setDelegate:function(e){if("function"!=typeof e.run)throw"System.setDelegate: No run() function in object";this.delegate=e,this.startRunLoop()},stopRunLoop:function(){ig.clearAnimation(this.animationId),this.running=!1},startRunLoop:function(){this.stopRunLoop(),this.animationId=ig.setAnimation(this.run.bind(this),this.canvas),this.running=!0},clear:function(e){this.context.fillStyle=e,this.context.fillRect(0,0,this.realWidth,this.realHeight)},run:function(){ig.Timer.step(),this.tick=this.clock.tick(),this.delegate.run(),ig.input.clearPressed(),this.newGameClass&&(this.setGameNow(this.newGameClass),this.newGameClass=null)},getDrawPos:null}),ig.System.DRAW={AUTHENTIC:function(e){return Math.round(e)*this.scale},SMOOTH:function(e){return Math.round(e*this.scale)},SUBPIXEL:function(e){return e*this.scale}},ig.System.drawMode=ig.System.DRAW.SMOOTH,ig.System.SCALE={CRISP:function(e,t){ig.setVendorAttribute(t,"imageSmoothingEnabled",!1),e.style.imageRendering="-moz-crisp-edges",e.style.imageRendering="-o-crisp-edges",e.style.imageRendering="-webkit-optimize-contrast",e.style.imageRendering="crisp-edges",e.style.msInterpolationMode="nearest-neighbor"},SMOOTH:function(e,t){ig.setVendorAttribute(t,"imageSmoothingEnabled",!0),e.style.imageRendering="",e.style.msInterpolationMode=""}},ig.System.scaleMode=ig.System.SCALE.SMOOTH}),ig.baked=!0,ig.module("impact.input").defines(function(){"use strict";ig.KEY={MOUSE1:-1,MOUSE2:-3,MWHEEL_UP:-4,MWHEEL_DOWN:-5,BACKSPACE:8,TAB:9,ENTER:13,PAUSE:19,CAPS:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,_0:48,_1:49,_2:50,_3:51,_4:52,_5:53,_6:54,_7:55,_8:56,_9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,MULTIPLY:106,ADD:107,SUBSTRACT:109,DECIMAL:110,DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SHIFT:16,CTRL:17,ALT:18,PLUS:187,COMMA:188,MINUS:189,PERIOD:190},ig.Input=ig.Class.extend({bindings:{},actions:{},presses:{},locks:{},delayedKeyup:{},isUsingMouse:!1,isUsingKeyboard:!1,isUsingAccelerometer:!1,mouse:{x:0,y:0},accel:{x:0,y:0,z:0},initMouse:function(){if(!this.isUsingMouse){this.isUsingMouse=!0;var e=this.mousewheel.bind(this);ig.system.canvas.addEventListener("mousewheel",e,!1),ig.system.canvas.addEventListener("DOMMouseScroll",e,!1),ig.system.canvas.addEventListener("contextmenu",this.contextmenu.bind(this),!1),ig.system.canvas.addEventListener("mousedown",this.keydown.bind(this),!1),ig.system.canvas.addEventListener("mouseup",this.keyup.bind(this),!1),ig.system.canvas.addEventListener("mousemove",this.mousemove.bind(this),!1),ig.ua.touchDevice&&(ig.system.canvas.addEventListener("touchstart",this.keydown.bind(this),!1),ig.system.canvas.addEventListener("touchend",this.keyup.bind(this),!1),ig.system.canvas.addEventListener("touchmove",this.mousemove.bind(this),!1),ig.system.canvas.addEventListener("MSPointerDown",this.keydown.bind(this),!1),ig.system.canvas.addEventListener("MSPointerUp",this.keyup.bind(this),!1),ig.system.canvas.addEventListener("MSPointerMove",this.mousemove.bind(this),!1),ig.system.canvas.style.msTouchAction="none")}},initKeyboard:function(){this.isUsingKeyboard||(this.isUsingKeyboard=!0,window.addEventListener("keydown",this.keydown.bind(this),!1),window.addEventListener("keyup",this.keyup.bind(this),!1))},initAccelerometer:function(){this.isUsingAccelerometer||window.addEventListener("devicemotion",this.devicemotion.bind(this),!1)},mousewheel:function(e){var t=e.wheelDelta?e.wheelDelta:-1*e.detail,s=t>0?ig.KEY.MWHEEL_UP:ig.KEY.MWHEEL_DOWN,n=this.bindings[s];n&&(this.actions[n]=!0,this.presses[n]=!0,this.delayedKeyup[n]=!0,e.stopPropagation(),e.preventDefault())},mousemove:function(e){var t=parseInt(ig.system.canvas.offsetWidth)||ig.system.realWidth,s=ig.system.scale*(t/ig.system.realWidth),n={left:0,top:0};ig.system.canvas.getBoundingClientRect&&(n=ig.system.canvas.getBoundingClientRect());var i=e.touches?e.touches[0]:e;this.mouse.x=(i.clientX-n.left)/s,this.mouse.y=(i.clientY-n.top)/s},contextmenu:function(e){this.bindings[ig.KEY.MOUSE2]&&(e.stopPropagation(),e.preventDefault())},keydown:function(e){var t=e.target.tagName;if("INPUT"!=t&&"TEXTAREA"!=t){var s="keydown"==e.type?e.keyCode:2==e.button?ig.KEY.MOUSE2:ig.KEY.MOUSE1;("touchstart"==e.type||"mousedown"==e.type)&&this.mousemove(e);var n=this.bindings[s];n&&(this.actions[n]=!0,this.locks[n]||(this.presses[n]=!0,this.locks[n]=!0),e.stopPropagation(),e.preventDefault())}},keyup:function(e){var t=e.target.tagName;if("INPUT"!=t&&"TEXTAREA"!=t){var s="keyup"==e.type?e.keyCode:2==e.button?ig.KEY.MOUSE2:ig.KEY.MOUSE1,n=this.bindings[s];n&&(this.delayedKeyup[n]=!0,e.stopPropagation(),e.preventDefault())}},devicemotion:function(e){this.accel=e.accelerationIncludingGravity},bind:function(e,t){0>e?this.initMouse():e>0&&this.initKeyboard(),this.bindings[e]=t},bindTouch:function(e,t){var s=ig.$(e),n=this;s.addEventListener("touchstart",function(e){n.touchStart(e,t)},!1),s.addEventListener("touchend",function(e){n.touchEnd(e,t)},!1),s.addEventListener("MSPointerDown",function(e){n.touchStart(e,t)},!1),s.addEventListener("MSPointerUp",function(e){n.touchEnd(e,t)},!1)},unbind:function(e){var t=this.bindings[e];this.delayedKeyup[t]=!0,this.bindings[e]=null},unbindAll:function(){this.bindings={},this.actions={},this.presses={},this.locks={},this.delayedKeyup={}},state:function(e){return this.actions[e]},pressed:function(e){return this.presses[e]},released:function(e){return this.delayedKeyup[e]},clearPressed:function(){for(var e in this.delayedKeyup)this.actions[e]=!1,this.locks[e]=!1;this.delayedKeyup={},this.presses={}},touchStart:function(e,t){return this.actions[t]=!0,this.presses[t]=!0,e.stopPropagation(),e.preventDefault(),!1},touchEnd:function(e,t){return this.delayedKeyup[t]=!0,e.stopPropagation(),e.preventDefault(),!1}})}),ig.baked=!0,ig.module("impact.impact").requires("dom.ready","impact.loader","impact.system","impact.input","impact.sound").defines(function(){"use strict";ig.main=function(e,t,s,n,i,r,a){ig.system=new ig.System(e,s,n,i,r||1),ig.input=new ig.Input,ig.soundManager=new ig.SoundManager,ig.music=new ig.Music,ig.ready=!0;var o=new(a||ig.Loader)(t,ig.resources);o.load()}}),ig.baked=!0,ig.module("impact.animation").requires("impact.timer","impact.image").defines(function(){"use strict";ig.AnimationSheet=ig.Class.extend({width:8,height:8,image:null,init:function(e,t,s){this.width=t,this.height=s,this.image=new ig.Image(e)}}),ig.Animation=ig.Class.extend({sheet:null,timer:null,sequence:[],flip:{x:!1,y:!1},pivot:{x:0,y:0},frame:0,tile:0,loopCount:0,alpha:1,angle:0,init:function(e,t,s,n){this.sheet=e,this.pivot={x:e.width/2,y:e.height/2},this.timer=new ig.Timer,this.frameTime=t,this.sequence=s,this.stop=!!n,this.tile=this.sequence[0]},rewind:function(){return this.timer.set(),this.loopCount=0,this.tile=this.sequence[0],this},gotoFrame:function(e){this.timer.set(this.frameTime*-e),this.update()},gotoRandomFrame:function(){this.gotoFrame(Math.floor(Math.random()*this.sequence.length))},update:function(){var e=Math.floor(this.timer.delta()/this.frameTime);this.loopCount=Math.floor(e/this.sequence.length),this.frame=this.stop&&this.loopCount>0?this.sequence.length-1:e%this.sequence.length,this.tile=this.sequence[this.frame]},draw:function(e,t){var s=Math.max(this.sheet.width,this.sheet.height);e>ig.system.width||t>ig.system.height||0>e+s||0>t+s||(1!=this.alpha&&(ig.system.context.globalAlpha=this.alpha),0==this.angle?this.sheet.image.drawTile(e,t,this.tile,this.sheet.width,this.sheet.height,this.flip.x,this.flip.y):(ig.system.context.save(),ig.system.context.translate(ig.system.getDrawPos(e+this.pivot.x),ig.system.getDrawPos(t+this.pivot.y)),ig.system.context.rotate(this.angle),this.sheet.image.drawTile(-this.pivot.x,-this.pivot.y,this.tile,this.sheet.width,this.sheet.height,this.flip.x,this.flip.y),ig.system.context.restore()),1!=this.alpha&&(ig.system.context.globalAlpha=1))}})}),ig.baked=!0,ig.module("impact.entity").requires("impact.animation","impact.impact").defines(function(){"use strict";ig.Entity=ig.Class.extend({id:0,settings:{},size:{x:16,y:16},offset:{x:0,y:0},pos:{x:0,y:0},last:{x:0,y:0},vel:{x:0,y:0},accel:{x:0,y:0},friction:{x:0,y:0},maxVel:{x:100,y:100},zIndex:0,gravityFactor:1,standing:!1,bounciness:0,minBounceVelocity:40,anims:{},animSheet:null,currentAnim:null,health:10,type:0,checkAgainst:0,collides:0,_killed:!1,slopeStanding:{min:44..toRad(),max:136..toRad()},init:function(e,t,s){this.id=++ig.Entity._lastId,this.pos.x=e,this.pos.y=t,ig.merge(this,s)},addAnim:function(e,t,s,n){if(!this.animSheet)throw"No animSheet to add the animation "+e+" to.";var i=new ig.Animation(this.animSheet,t,s,n);return this.anims[e]=i,this.currentAnim||(this.currentAnim=i),i},update:function(){this.last.x=this.pos.x,this.last.y=this.pos.y,this.vel.y+=ig.game.gravity*ig.system.tick*this.gravityFactor,this.vel.x=this.getNewVelocity(this.vel.x,this.accel.x,this.friction.x,this.maxVel.x),this.vel.y=this.getNewVelocity(this.vel.y,this.accel.y,this.friction.y,this.maxVel.y);var e=this.vel.x*ig.system.tick,t=this.vel.y*ig.system.tick,s=ig.game.collisionMap.trace(this.pos.x,this.pos.y,e,t,this.size.x,this.size.y);this.handleMovementTrace(s),this.currentAnim&&this.currentAnim.update()},getNewVelocity:function(e,t,s,n){if(t)return(e+t*ig.system.tick).limit(-n,n);if(s){var i=s*ig.system.tick;return e-i>0?e-i:0>e+i?e+i:0}return e.limit(-n,n)},handleMovementTrace:function(e){if(this.standing=!1,e.collision.y&&(this.bounciness>0&&Math.abs(this.vel.y)>this.minBounceVelocity?this.vel.y*=-this.bounciness:(this.vel.y>0&&(this.standing=!0),this.vel.y=0)),e.collision.x&&(this.bounciness>0&&Math.abs(this.vel.x)>this.minBounceVelocity?this.vel.x*=-this.bounciness:this.vel.x=0),e.collision.slope){var t=e.collision.slope;if(this.bounciness>0){var s=this.vel.x*t.nx+this.vel.y*t.ny;this.vel.x=(this.vel.x-2*t.nx*s)*this.bounciness,this.vel.y=(this.vel.y-2*t.ny*s)*this.bounciness}else{var n=t.x*t.x+t.y*t.y,i=(this.vel.x*t.x+this.vel.y*t.y)/n;this.vel.x=t.x*i,this.vel.y=t.y*i;var r=Math.atan2(t.x,t.y);r>this.slopeStanding.min&&r<this.slopeStanding.max&&(this.standing=!0)}}this.pos=e.pos},draw:function(){this.currentAnim&&this.currentAnim.draw(this.pos.x-this.offset.x-ig.game._rscreen.x,this.pos.y-this.offset.y-ig.game._rscreen.y)},kill:function(){ig.game.removeEntity(this)},receiveDamage:function(e){this.health-=e,this.health<=0&&this.kill()},touches:function(e){return!(this.pos.x>=e.pos.x+e.size.x||this.pos.x+this.size.x<=e.pos.x||this.pos.y>=e.pos.y+e.size.y||this.pos.y+this.size.y<=e.pos.y)},distanceTo:function(e){var t=this.pos.x+this.size.x/2-(e.pos.x+e.size.x/2),s=this.pos.y+this.size.y/2-(e.pos.y+e.size.y/2);return Math.sqrt(t*t+s*s)},angleTo:function(e){return Math.atan2(e.pos.y+e.size.y/2-(this.pos.y+this.size.y/2),e.pos.x+e.size.x/2-(this.pos.x+this.size.x/2))},check:function(){},collideWith:function(){},ready:function(){}}),ig.Entity._lastId=0,ig.Entity.COLLIDES={NEVER:0,LITE:1,PASSIVE:2,ACTIVE:4,FIXED:8},ig.Entity.TYPE={NONE:0,A:1,B:2,BOTH:3},ig.Entity.checkPair=function(e,t){e.checkAgainst&t.type&&e.check(t),t.checkAgainst&e.type&&t.check(e),e.collides&&t.collides&&e.collides+t.collides>ig.Entity.COLLIDES.ACTIVE&&ig.Entity.solveCollision(e,t)},ig.Entity.solveCollision=function(e,t){var s=null;e.collides==ig.Entity.COLLIDES.LITE||t.collides==ig.Entity.COLLIDES.FIXED?s=e:(t.collides==ig.Entity.COLLIDES.LITE||e.collides==ig.Entity.COLLIDES.FIXED)&&(s=t),e.last.x+e.size.x>t.last.x&&e.last.x<t.last.x+t.size.x?(e.last.y<t.last.y?ig.Entity.seperateOnYAxis(e,t,s):ig.Entity.seperateOnYAxis(t,e,s),e.collideWith(t,"y"),t.collideWith(e,"y")):e.last.y+e.size.y>t.last.y&&e.last.y<t.last.y+t.size.y&&(e.last.x<t.last.x?ig.Entity.seperateOnXAxis(e,t,s):ig.Entity.seperateOnXAxis(t,e,s),e.collideWith(t,"x"),t.collideWith(e,"x"))},ig.Entity.seperateOnXAxis=function(e,t,s){var n=e.pos.x+e.size.x-t.pos.x;if(s){var i=e===s?t:e;s.vel.x=-s.vel.x*s.bounciness+i.vel.x;var r=ig.game.collisionMap.trace(s.pos.x,s.pos.y,s==e?-n:n,0,s.size.x,s.size.y);s.pos.x=r.pos.x}else{var a=(e.vel.x-t.vel.x)/2;e.vel.x=-a,t.vel.x=a;var o=ig.game.collisionMap.trace(e.pos.x,e.pos.y,-n/2,0,e.size.x,e.size.y);e.pos.x=Math.floor(o.pos.x);var u=ig.game.collisionMap.trace(t.pos.x,t.pos.y,n/2,0,t.size.x,t.size.y);t.pos.x=Math.ceil(u.pos.x)}},ig.Entity.seperateOnYAxis=function(e,t,s){var n=e.pos.y+e.size.y-t.pos.y;if(s){var i=e===s?t:e;s.vel.y=-s.vel.y*s.bounciness+i.vel.y;var r=0;s==e&&Math.abs(s.vel.y-i.vel.y)<s.minBounceVelocity&&(s.standing=!0,r=i.vel.x*ig.system.tick);
var a=ig.game.collisionMap.trace(s.pos.x,s.pos.y,r,s==e?-n:n,s.size.x,s.size.y);s.pos.y=a.pos.y,s.pos.x=a.pos.x}else if(ig.game.gravity&&(t.standing||e.vel.y>0)){var o=ig.game.collisionMap.trace(e.pos.x,e.pos.y,0,-(e.pos.y+e.size.y-t.pos.y),e.size.x,e.size.y);e.pos.y=o.pos.y,e.bounciness>0&&e.vel.y>e.minBounceVelocity?e.vel.y*=-e.bounciness:(e.standing=!0,e.vel.y=0)}else{var u=(e.vel.y-t.vel.y)/2;e.vel.y=-u,t.vel.y=u;var r=t.vel.x*ig.system.tick,o=ig.game.collisionMap.trace(e.pos.x,e.pos.y,r,-n/2,e.size.x,e.size.y);e.pos.y=o.pos.y;var l=ig.game.collisionMap.trace(t.pos.x,t.pos.y,0,n/2,t.size.x,t.size.y);t.pos.y=l.pos.y}}}),ig.baked=!0,ig.module("plugins.perpixel").requires("impact.impact","impact.image","impact.entity").defines(function(){ig.Image.inject({alphas:[],alphasLoaded:!1,loadAlphas:function(){var e=ig.$new("canvas");e.width=this.data.width,e.height=this.data.height;var t=e.getContext("2d");t.drawImage(this.data,0,0);for(var s=t.getImageData(0,0,this.data.width,this.data.height).data,n=0,i=4*this.data.width,r=this.data.height*i,a=3;r>a;a+=i)for(var o=0;i>o;o+=4)this.alphas[n++]=s[o+a]?!0:!1;this.alphasLoaded=!0},onload:function(e){this.alphasLoaded||this.loadAlphas(),this.parent(e)}}),ig.Entity.inject({touches:function(e){if(ig.global.wm||null===this.currentAnim||null===e.currentAnim)return this.parent(e);var t=this.pos.x.round(),s=this.pos.y.round(),n=e.pos.x.round(),i=e.pos.y.round(),r=Math.max(t,n),a=Math.min(t+this.size.x,n+e.size.x),o=Math.max(s,i),u=Math.min(s+this.size.y,i+e.size.y);if(r>=a||o>=u)return!1;for(var l=this.currentAnim.sheet.image.alphas,h=e.currentAnim.sheet.image.alphas,c=u-o,d=this.currentAnim.tile,p=this.currentAnim.sheet.width,f=this.currentAnim.sheet.height,m=this.currentAnim.sheet.image.width,_=~~(d*p)%m,v=~~(d*p/m)*f,g=e.currentAnim.tile,w=e.currentAnim.sheet.width,b=e.currentAnim.sheet.height,y=e.currentAnim.sheet.image.width,C=~~(g*w)%y,j=~~(g*w/y)*b,Q=(o-s+v)*m,I=(o-i+j)*y,x=r-t+_,A=r-n+C,L=a-r;c--;){for(var k=L,P=x,T=A;k--;){if(l[Q+P++]&&h[I+T])return!0;T++}Q+=m,I+=y}return!1}})}),ig.baked=!0,ig.module("impact.map").defines(function(){"use strict";ig.Map=ig.Class.extend({tilesize:8,width:1,height:1,data:[[]],name:null,init:function(e,t){this.tilesize=e,this.data=t,this.height=t.length,this.width=t[0].length},getTile:function(e,t){var s=Math.floor(e/this.tilesize),n=Math.floor(t/this.tilesize);return s>=0&&s<this.width&&n>=0&&n<this.height?this.data[n][s]:0},setTile:function(e,t,s){var n=Math.floor(e/this.tilesize),i=Math.floor(t/this.tilesize);n>=0&&n<this.width&&i>=0&&i<this.height&&(this.data[i][n]=s)}})}),ig.baked=!0,ig.module("impact.collision-map").requires("impact.map").defines(function(){"use strict";ig.CollisionMap=ig.Map.extend({lastSlope:1,tiledef:null,init:function(e,t,s){this.parent(e,t),this.tiledef=s||ig.CollisionMap.defaultTileDef;for(var n in this.tiledef)n|0>this.lastSlope&&(this.lastSlope=0|n)},trace:function(e,t,s,n,i,r){var a={collision:{x:!1,y:!1,slope:!1},pos:{x:e,y:t},tile:{x:0,y:0}},o=Math.ceil(Math.max(Math.abs(s),Math.abs(n))/this.tilesize);if(o>1)for(var u=s/o,l=n/o,h=0;o>h&&(u||l)&&(this._traceStep(a,e,t,u,l,i,r,s,n,h),e=a.pos.x,t=a.pos.y,a.collision.x&&(u=0,s=0),a.collision.y&&(l=0,n=0),!a.collision.slope);h++);else this._traceStep(a,e,t,s,n,i,r,s,n,0);return a},_traceStep:function(e,t,s,n,i,r,a,o,u,l){e.pos.x+=n,e.pos.y+=i;var h=0;if(n){var c=n>0?r:0,d=0>n?this.tilesize:0,p=Math.max(Math.floor(s/this.tilesize),0),f=Math.min(Math.ceil((s+a)/this.tilesize),this.height),m=Math.floor((e.pos.x+c)/this.tilesize),_=Math.floor((t+c)/this.tilesize);if((l>0||m==_||0>_||_>=this.width)&&(_=-1),m>=0&&m<this.width)for(var v=p;f>v&&!(-1!=_&&(h=this.data[v][_],h>1&&h<=this.lastSlope&&this._checkTileDef(e,h,t,s,o,u,r,a,_,v)));v++)if(h=this.data[v][m],1==h||h>this.lastSlope||h>1&&this._checkTileDef(e,h,t,s,o,u,r,a,m,v)){if(h>1&&h<=this.lastSlope&&e.collision.slope)break;e.collision.x=!0,e.tile.x=h,t=e.pos.x=m*this.tilesize-c+d,o=0;break}}if(i){var g=i>0?a:0,w=0>i?this.tilesize:0,b=Math.max(Math.floor(e.pos.x/this.tilesize),0),y=Math.min(Math.ceil((e.pos.x+r)/this.tilesize),this.width),v=Math.floor((e.pos.y+g)/this.tilesize),C=Math.floor((s+g)/this.tilesize);if((l>0||v==C||0>C||C>=this.height)&&(C=-1),v>=0&&v<this.height)for(var m=b;y>m&&!(-1!=C&&(h=this.data[C][m],h>1&&h<=this.lastSlope&&this._checkTileDef(e,h,t,s,o,u,r,a,m,C)));m++)if(h=this.data[v][m],1==h||h>this.lastSlope||h>1&&this._checkTileDef(e,h,t,s,o,u,r,a,m,v)){if(h>1&&h<=this.lastSlope&&e.collision.slope)break;e.collision.y=!0,e.tile.y=h,e.pos.y=v*this.tilesize-g+w;break}}},_checkTileDef:function(e,t,s,n,i,r,a,o,u,l){var h=this.tiledef[t];if(!h)return!1;var c=(u+h[0])*this.tilesize,d=(l+h[1])*this.tilesize,p=(h[2]-h[0])*this.tilesize,f=(h[3]-h[1])*this.tilesize,m=h[4],_=s+i+(0>f?a:0)-c,v=n+r+(p>0?o:0)-d;if(p*v-f*_>0){if(0>i*-f+r*p)return m;var g=Math.sqrt(p*p+f*f),w=f/g,b=-p/g,y=_*w+v*b,C=w*y,j=b*y;return C*C+j*j>=i*i+r*r?m||.5>p*(v-r)-f*(_-i):(e.pos.x=s+i-C,e.pos.y=n+r-j,e.collision.slope={x:p,y:f,nx:w,ny:b},!0)}return!1}});var e=.5,t=1/3,s=2/3,n=!0,i=!1;ig.CollisionMap.defaultTileDef={5:[0,1,1,s,n],6:[0,s,1,t,n],7:[0,t,1,0,n],3:[0,1,1,e,n],4:[0,e,1,0,n],2:[0,1,1,0,n],10:[e,1,1,0,n],21:[0,1,e,0,n],32:[s,1,1,0,n],43:[t,1,s,0,n],54:[0,1,t,0,n],27:[0,0,1,t,n],28:[0,t,1,s,n],29:[0,s,1,1,n],25:[0,0,1,e,n],26:[0,e,1,1,n],24:[0,0,1,1,n],11:[0,0,e,1,n],22:[e,0,1,1,n],33:[0,0,t,1,n],44:[t,0,s,1,n],55:[s,0,1,1,n],16:[1,t,0,0,n],17:[1,s,0,t,n],18:[1,1,0,s,n],14:[1,e,0,0,n],15:[1,1,0,e,n],13:[1,1,0,0,n],8:[e,1,0,0,n],19:[1,1,e,0,n],30:[t,1,0,0,n],41:[s,1,t,0,n],52:[1,1,s,0,n],38:[1,s,0,1,n],39:[1,t,0,s,n],40:[1,0,0,t,n],36:[1,e,0,1,n],37:[1,0,0,e,n],35:[1,0,0,1,n],9:[1,0,e,1,n],20:[e,0,0,1,n],31:[1,0,s,1,n],42:[s,0,t,1,n],53:[t,0,0,1,n],12:[0,0,1,0,i],23:[1,1,0,1,i],34:[1,0,1,1,i],45:[0,1,0,0,i]},ig.CollisionMap.staticNoCollision={trace:function(e,t,s,n){return{collision:{x:!1,y:!1,slope:!1},pos:{x:e+s,y:t+n},tile:{x:0,y:0}}}}}),ig.baked=!0,ig.module("impact.background-map").requires("impact.map","impact.image").defines(function(){"use strict";ig.BackgroundMap=ig.Map.extend({tiles:null,scroll:{x:0,y:0},distance:1,repeat:!1,tilesetName:"",foreground:!1,enabled:!0,preRender:!1,preRenderedChunks:null,chunkSize:512,debugChunks:!1,anims:{},init:function(e,t,s){this.parent(e,t),this.setTileset(s)},setTileset:function(e){this.tilesetName=e instanceof ig.Image?e.path:e,this.tiles=new ig.Image(this.tilesetName),this.preRenderedChunks=null},setScreenPos:function(e,t){this.scroll.x=e/this.distance,this.scroll.y=t/this.distance},preRenderMapToChunks:function(){var e=this.width*this.tilesize*ig.system.scale,t=this.height*this.tilesize*ig.system.scale;this.chunkSize=Math.min(Math.max(e,t),this.chunkSize);var s=Math.ceil(e/this.chunkSize),n=Math.ceil(t/this.chunkSize);this.preRenderedChunks=[];for(var i=0;n>i;i++){this.preRenderedChunks[i]=[];for(var r=0;s>r;r++){var a=r==s-1?e-r*this.chunkSize:this.chunkSize,o=i==n-1?t-i*this.chunkSize:this.chunkSize;this.preRenderedChunks[i][r]=this.preRenderChunk(r,i,a,o)}}},preRenderChunk:function(e,t,s,n){var i=s/this.tilesize/ig.system.scale+1,r=n/this.tilesize/ig.system.scale+1,a=e*this.chunkSize/ig.system.scale%this.tilesize,o=t*this.chunkSize/ig.system.scale%this.tilesize,u=Math.floor(e*this.chunkSize/this.tilesize/ig.system.scale),l=Math.floor(t*this.chunkSize/this.tilesize/ig.system.scale),h=ig.$new("canvas");h.width=s,h.height=n;var c=ig.system.context;ig.system.context=h.getContext("2d");for(var d=0;i>d;d++)for(var p=0;r>p;p++)if(d+u<this.width&&p+l<this.height){var f=this.data[p+l][d+u];f&&this.tiles.drawTile(d*this.tilesize-a,p*this.tilesize-o,f-1,this.tilesize)}return ig.system.context=c,h},draw:function(){this.tiles.loaded&&this.enabled&&(this.preRender?this.drawPreRendered():this.drawTiled())},drawPreRendered:function(){this.preRenderedChunks||this.preRenderMapToChunks();var e=ig.system.getDrawPos(this.scroll.x),t=ig.system.getDrawPos(this.scroll.y);if(this.repeat){var s=this.width*this.tilesize*ig.system.scale;e=(e%s+s)%s;var n=this.height*this.tilesize*ig.system.scale;t=(t%n+n)%n}var i=Math.max(Math.floor(e/this.chunkSize),0),r=Math.max(Math.floor(t/this.chunkSize),0),a=Math.ceil((e+ig.system.realWidth)/this.chunkSize),o=Math.ceil((t+ig.system.realHeight)/this.chunkSize),u=this.preRenderedChunks[0].length,l=this.preRenderedChunks.length;this.repeat||(a=Math.min(a,u),o=Math.min(o,l));for(var h=0,c=r;o>c;c++){for(var d=0,p=i;a>p;p++){var f=this.preRenderedChunks[c%l][p%u],m=-e+p*this.chunkSize-d,_=-t+c*this.chunkSize-h;ig.system.context.drawImage(f,m,_),ig.Image.drawCount++,this.debugChunks&&(ig.system.context.strokeStyle="#f0f",ig.system.context.strokeRect(m,_,this.chunkSize,this.chunkSize)),this.repeat&&f.width<this.chunkSize&&m+f.width<ig.system.realWidth&&(d+=this.chunkSize-f.width,a++)}this.repeat&&f.height<this.chunkSize&&_+f.height<ig.system.realHeight&&(h+=this.chunkSize-f.height,o++)}},drawTiled:function(){for(var e=0,t=null,s=(this.scroll.x/this.tilesize).toInt(),n=(this.scroll.y/this.tilesize).toInt(),i=this.scroll.x%this.tilesize,r=this.scroll.y%this.tilesize,a=-i-this.tilesize,o=-r-this.tilesize,u=ig.system.width+this.tilesize-i,l=ig.system.height+this.tilesize-r,h=-1,c=o;l>c;h++,c+=this.tilesize){var d=h+n;if(d>=this.height||0>d){if(!this.repeat)continue;d=(d%this.height+this.height)%this.height}for(var p=-1,f=a;u>f;p++,f+=this.tilesize){var m=p+s;if(m>=this.width||0>m){if(!this.repeat)continue;m=(m%this.width+this.width)%this.width}(e=this.data[d][m])&&((t=this.anims[e-1])?t.draw(f,c):this.tiles.drawTile(f,c,e-1,this.tilesize))}}}})}),ig.baked=!0,ig.module("impact.game").requires("impact.impact","impact.entity","impact.collision-map","impact.background-map").defines(function(){"use strict";ig.Game=ig.Class.extend({clearColor:"#000000",gravity:0,screen:{x:0,y:0},_rscreen:{x:0,y:0},entities:[],namedEntities:{},collisionMap:ig.CollisionMap.staticNoCollision,backgroundMaps:[],backgroundAnims:{},autoSort:!1,sortBy:null,cellSize:64,_deferredKill:[],_levelToLoad:null,_doSortEntities:!1,staticInstantiate:function(){return this.sortBy=this.sortBy||ig.Game.SORT.Z_INDEX,ig.game=this,null},loadLevel:function(e){this.screen={x:0,y:0},this.entities=[],this.namedEntities={};for(var t=0;t<e.entities.length;t++){var s=e.entities[t];this.spawnEntity(s.type,s.x,s.y,s.settings)}this.sortEntities(),this.collisionMap=ig.CollisionMap.staticNoCollision,this.backgroundMaps=[];for(var t=0;t<e.layer.length;t++){var n=e.layer[t];if("collision"==n.name)this.collisionMap=new ig.CollisionMap(n.tilesize,n.data);else{var i=new ig.BackgroundMap(n.tilesize,n.data,n.tilesetName);i.anims=this.backgroundAnims[n.tilesetName]||{},i.repeat=n.repeat,i.distance=n.distance,i.foreground=!!n.foreground,i.preRender=!!n.preRender,i.name=n.name,this.backgroundMaps.push(i)}}for(var t=0;t<this.entities.length;t++)this.entities[t].ready()},loadLevelDeferred:function(e){this._levelToLoad=e},getMapByName:function(e){if("collision"==e)return this.collisionMap;for(var t=0;t<this.backgroundMaps.length;t++)if(this.backgroundMaps[t].name==e)return this.backgroundMaps[t];return null},getEntityByName:function(e){return this.namedEntities[e]},getEntitiesByType:function(e){for(var t="string"==typeof e?ig.global[e]:e,s=[],n=0;n<this.entities.length;n++){var i=this.entities[n];i instanceof t&&!i._killed&&s.push(i)}return s},spawnEntity:function(e,t,s,n){var i="string"==typeof e?ig.global[e]:e;if(!i)throw"Can't spawn entity of type "+e;var r=new i(t,s,n||{});return this.entities.push(r),r.name&&(this.namedEntities[r.name]=r),r},sortEntities:function(){this.entities.sort(this.sortBy)},sortEntitiesDeferred:function(){this._doSortEntities=!0},removeEntity:function(e){e.name&&delete this.namedEntities[e.name],e._killed=!0,e.type=ig.Entity.TYPE.NONE,e.checkAgainst=ig.Entity.TYPE.NONE,e.collides=ig.Entity.COLLIDES.NEVER,this._deferredKill.push(e)},run:function(){this.update(),this.draw()},update:function(){this._levelToLoad&&(this.loadLevel(this._levelToLoad),this._levelToLoad=null),(this._doSortEntities||this.autoSort)&&(this.sortEntities(),this._doSortEntities=!1),this.updateEntities(),this.checkEntities();for(var e=0;e<this._deferredKill.length;e++)this.entities.erase(this._deferredKill[e]);this._deferredKill=[];for(var t in this.backgroundAnims){var s=this.backgroundAnims[t];for(var n in s)s[n].update()}},updateEntities:function(){for(var e=0;e<this.entities.length;e++){var t=this.entities[e];t._killed||t.update()}},draw:function(){this.clearColor&&ig.system.clear(this.clearColor),this._rscreen.x=ig.system.getDrawPos(this.screen.x)/ig.system.scale,this._rscreen.y=ig.system.getDrawPos(this.screen.y)/ig.system.scale;var e;for(e=0;e<this.backgroundMaps.length;e++){var t=this.backgroundMaps[e];if(t.foreground)break;t.setScreenPos(this.screen.x,this.screen.y),t.draw()}for(this.drawEntities(),e;e<this.backgroundMaps.length;e++){var t=this.backgroundMaps[e];t.setScreenPos(this.screen.x,this.screen.y),t.draw()}},drawEntities:function(){for(var e=0;e<this.entities.length;e++)this.entities[e].draw()},checkEntities:function(){for(var e={},t=0;t<this.entities.length;t++){var s=this.entities[t];if(s.type!=ig.Entity.TYPE.NONE||s.checkAgainst!=ig.Entity.TYPE.NONE||s.collides!=ig.Entity.COLLIDES.NEVER)for(var n={},i=Math.floor(s.pos.x/this.cellSize),r=Math.floor(s.pos.y/this.cellSize),a=Math.floor((s.pos.x+s.size.x)/this.cellSize)+1,o=Math.floor((s.pos.y+s.size.y)/this.cellSize)+1,u=i;a>u;u++)for(var l=r;o>l;l++)if(e[u])if(e[u][l]){for(var h=e[u][l],c=0;c<h.length;c++)s.touches(h[c])&&!n[h[c].id]&&(n[h[c].id]=!0,ig.Entity.checkPair(s,h[c]));h.push(s)}else e[u][l]=[s];else e[u]={},e[u][l]=[s]}}}),ig.Game.SORT={Z_INDEX:function(e,t){return e.zIndex-t.zIndex},POS_X:function(e,t){return e.pos.x+e.size.x-(t.pos.x+t.size.x)},POS_Y:function(e,t){return e.pos.y+e.size.y-(t.pos.y+t.size.y)}}}),ig.baked=!0,ig.module("game.entities.particle").requires("impact.entity").defines(function(){EntityParticle=ig.Entity.extend({size:{x:4,y:4},offset:{x:0,y:0},maxVel:{x:160,y:160},minBounceVelocity:0,_wmIgnore:!0,type:ig.Entity.TYPE.NONE,checkAgainst:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.LITE,lifetime:5,fadetime:1,bounciness:.6,friction:{x:20,y:0}})}),ig.baked=!0,ig.module("game.entities.bloodParticle").requires("game.entities.particle").defines(function(){EntityBloodParticle=EntityParticle.extend({alpha:1,lifetime:.5,fadetime:.4,bounciness:.1,friction:{x:100,y:100},zIndex:0,maxVel:{x:500,y:500},gravityFactor:.5,init:function(e,t,s){this.pos.x=e,this.pos.y=t,this.vel.x=s.dx/20*Math.random()/.3,this.vel.y=s.dy/20*Math.random()/.3,this.particleSize=5*Math.random(),this.idleTimer=new ig.Timer},update:function(){return this.idleTimer.delta()>this.lifetime?(this.kill(),void 0):(this.alpha=this.idleTimer.delta().map(this.lifetime-this.fadetime,this.lifetime,1,.1),this.parent(),void 0)},draw:function(){this.parent();var e=this.pos.x-ig.game.screen.x,t=this.pos.y-ig.game.screen.y;ig.system.context.beginPath(),ig.system.context.arc(e,t,this.particleSize,0,2*Math.PI,!0),ig.system.context.fillStyle="rgba(255,0,0,"+this.alpha+")",ig.system.context.fill()}})}),ig.baked=!0,ig.module("game.entities.ashParticle").requires("game.entities.particle").defines(function(){EntityAshParticle=EntityParticle.extend({alpha:1,lifetime:1,fadetime:.4,bounciness:.1,friction:{x:100,y:100},zIndex:0,maxVel:{x:500,y:500},gravityFactor:.5,init:function(e,t,s){this.pos.x=e+Math.floor(Math.random()*s.width),this.pos.y=t+Math.floor(Math.random()*s.height),this.color=Math.floor(255*Math.random()),this.particleSize=5*Math.random(),this.idleTimer=new ig.Timer},update:function(){return this.idleTimer.delta()>this.lifetime?(this.kill(),void 0):(this.alpha=this.idleTimer.delta().map(this.lifetime-this.fadetime,this.lifetime,1,.1),this.parent(),void 0)},draw:function(){this.parent();var e=this.pos.x-ig.game.screen.x,t=this.pos.y-ig.game.screen.y;ig.system.context.beginPath(),ig.system.context.arc(e,t,this.particleSize,0,2*Math.PI,!0),ig.system.context.fillStyle="rgba("+this.color+","+this.color+","+this.color+","+this.alpha+")",ig.system.context.fill()}})}),ig.baked=!0,ig.module("game.entities.character").requires("impact.entity").defines(function(){EntityCharacter=ig.Entity.extend({type:ig.Entity.TYPE.NONE,checkAgainst:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NONE})}),ig.baked=!0,ig.module("game.entities.player").requires("game.entities.character").defines(function(){EntityPlayer=EntityCharacter.extend({size:{x:32,y:64},maxVel:{x:400,y:400},friction:{x:500,y:0},animSheet:new ig.AnimationSheet("media/player.png",32,64),gunshot:new ig.Sound("media/sound/gun.*"),type:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.PASSIVE,flip:!1,accelGround:700,accelAir:400,jump:600,health:100,maxHealth:100,cooldown:40,zIndex:0,init:function(e,t,s){this.parent(e,t,s),ig.global.wm||(this.arm=ig.game.spawnEntity(EntityArm,this.pos.x,this.pos.y,{attachee:this})),this.addAnim("idle",.5,[0,1,2,3]),this.addAnim("run",.25,[4,5,6,7,8,9]),console.log("init")},update:function(){var e=this.standing?this.accelGround:this.accelAir;ig.input.state("left")?(this.accel.x=-e,this.flip=!0):ig.input.state("right")?(this.accel.x=e,this.flip=!1):this.accel.x=0,this.standing&&ig.input.state("jump")&&(this.vel.y=-this.jump),ig.input.state("shoot")&&0==this.cooldown&&this.shoot(),this.currentAnim=this.vel.y<0?this.anims.run:this.vel.y>0?this.anims.run:0!=this.vel.x?this.anims.run:this.anims.idle,this.currentAnim.flip.x=this.flip,this.cooldown>0&&this.cooldown--,this.parent(),this.arm.attacheeUpdate(this.pos.x,this.pos.y,this.flip);var t=ig.game.collisionMap;this.pos.y>t.height*t.tilesize+400&&(ig.music.stop(),ig.game.loadLevelDeferred(LevelMainMenu))},receiveDamage:function(e,t){this.health-e<=0&&(ig.music.stop(),ig.game.loadLevelDeferred(LevelMainMenu)),this.parent(e,t)},healthPowerup:function(e){this.health+=e},shoot:function(){ig.game.spawnEntity(EntityBullet,this.pos.x+this.size.x/2,this.pos.y+this.size.y/2,{flip:this.flip,d:{x:ig.input.mouse.x,y:ig.input.mouse.y}}),this.gunshot.play(),this.cooldown=20,this.arm.fire()}}),EntityArm=ig.Entity.extend({animSheet:new ig.AnimationSheet("media/arm.png",32,8),size:{x:32,y:8},type:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NONE,gravityFactor:0,zIndex:1,firingAnimCD:0,receiveDamage:function(e,t){this.attachedTo.receiveDamage(e,t)},init:function(e,t,s){this.parent(e,t,s),this.pos.x=e,this.pos.y=t,this.attachedTo=s.attachee,this.addAnim("notShooting",1,[0]),this.addAnim("shooting",1,[1])},update:function(){this.currentAnim.flip.x=this.flip,this.firingAnimCD-=1,this.currentAnim=this.firingAnimCD<0?this.anims.notShooting:this.anims.shooting;var e=Math.atan2(ig.input.mouse.y-this.pos.y+ig.game.screen.y,ig.input.mouse.x-this.pos.x+ig.game.screen.x);this.flip?(this.pos.x-=this.attachedTo.size.x-10,this.currentAnim.pivot.x=this.size.x,e+=Math.PI):this.currentAnim.pivot.x=0,this.currentAnim.angle=e,this.parent()},attacheeUpdate:function(e,t,s){this.pos={x:e+10,y:t+25},this.flip=s},fire:function(){this.firingAnimCD=10},draw:function(){this.parent()}}),EntityBullet=ig.Entity.extend({size:{x:8,y:8},animSheet:new ig.AnimationSheet("media/bullet2.png",8,8),gravityFactor:0,type:ig.Entity.TYPE.NONE,checkAgainst:ig.Entity.TYPE.B,collides:ig.Entity.COLLIDES.PASSIVE,maxVel:{x:1e7,y:1e7},init:function(e,t,s){this.parent(e,t,s),this.pos.x=e,this.pos.y=t,this.vel.x=ig.game.screen.x+s.d.x-this.pos.x,this.vel.y=s.d.y+ig.game.screen.y-this.pos.y;var n=Math.sqrt(this.vel.x*this.vel.x+this.vel.y*this.vel.y);this.vel.x/=n,this.vel.y/=n,this.vel.x*=2e3,this.vel.y*=2e3,this.addAnim("idle",1,[0]),this.pos.y-=this.animSheet.height/2},handleMovementTrace:function(e){this.parent(e),(e.collision.x||e.collision.y||e.collision.slope)&&this.kill()},update:function(){var e=ig.game.collisionMap.width*ig.game.collisionMap.tilesize,t=ig.game.collisionMap.height*ig.game.collisionMap.tilesize;(this.pos.x>e+ig.system.width||this.pos.x<0-ig.system.width||this.pos.y>t+ig.system.height||this.pos.y<0-ig.system.height)&&this.kill(),this.parent()},check:function(e){if(e.bulletDamage){e.receiveDamage(10,this);for(var t=0;40>t;t++)ig.game.spawnEntity(EntityBloodParticle,this.pos.x,this.pos.y,{dx:this.vel.x,dy:this.vel.y});this.kill()}}})}),ig.baked=!0,ig.module("game.entities.ashParticleRising").requires("game.entities.ashParticle").defines(function(){EntityAshParticleRising=EntityAshParticle.extend({alpha:1,lifetime:1,fadetime:.4,bounciness:.1,friction:{x:100,y:100},zIndex:1,maxVel:{x:500,y:500},gravityFactor:0,init:function(e,t){this.pos.x=e,this.pos.y=t,this.color=0,this.vel.y=-100-25*Math.random(),this.vel.x=200*Math.random()-100,this.particleSize=5*Math.random(),this.idleTimer=new ig.Timer},update:function(){return this.idleTimer.delta()>this.lifetime?(this.kill(),void 0):(this.alpha=this.idleTimer.delta().map(this.lifetime-this.fadetime,this.lifetime,1,.1),this.color+=5,this.parent(),void 0)},draw:function(){this.parent();var e=this.pos.x-ig.game.screen.x,t=this.pos.y-ig.game.screen.y;ig.system.context.beginPath(),ig.system.context.arc(e,t,this.particleSize,0,2*Math.PI,!0),ig.system.context.fillStyle="rgba("+this.color+","+this.color+","+this.color+","+this.alpha+")",ig.system.context.fill()}})}),ig.baked=!0,ig.module("game.entities.fireParticleDamage").requires("game.entities.particle","game.entities.ashParticleRising").defines(function(){EntityFireParticleDamage=EntityParticle.extend({checkAgainst:ig.Entity.TYPE.B,lifetime:.3,fadetime:.2,bounciness:0,friction:{x:0,y:0},gravityFactor:0,maxVel:{x:9999,y:9999},init:function(e,t,s){this.parent(e,t,s),this.r=255,this.g=255,this.b=0,this.color="rgb("+this.r+","+this.g+","+this.b+")",this.idleTimer=new ig.Timer,this.particleSize=1,this.vel.x=ig.game.screen.x+s.d.x-this.pos.x,this.vel.y=s.d.y+ig.game.screen.y-this.pos.y;var n=Math.sqrt(this.vel.x*this.vel.x+this.vel.y*this.vel.y);this.vel.x/=n,this.vel.y/=n,this.vel.x*=750,this.vel.y*=750},update:function(){return this.particleSize+=2,this.idleTimer.delta()>this.lifetime?(this.kill(),void 0):(this.alpha=this.idleTimer.delta().map(this.lifetime-this.fadetime,this.lifetime,1,.1),this.g-=20,this.g<0&&(this.g=0),this.parent(),void 0)},draw:function(){this.parent();var e=this.pos.x-ig.game.screen.x,t=this.pos.y-ig.game.screen.y,s=ig.system.context.createRadialGradient(e,t,this.particleSize,e,t,this.particleSize+20);s.addColorStop(0,"rgba("+this.r+","+this.g+","+this.b+",1)"),s.addColorStop(1,"rgba("+this.r+","+this.g+","+this.b+",0)"),ig.system.context.fillStyle=s,ig.system.context.fillRect(0,0,ig.system.width,ig.system.height)},check:function(e){e.dead||(ig.game.spawnEntity(EntityAshParticleRising,this.pos.x,this.pos.y),e.receiveDamage(2,this),this.kill())}})}),ig.baked=!0,ig.module("game.entities.playerL1").requires("game.entities.player","game.entities.fireParticleDamage").defines(function(){EntityPlayerL1=EntityPlayer.extend({sun:100,maxSun:100,sunSound:new ig.Sound("media/sound/sun.*"),sunSoundTrack:new ig.Music,sunSoundPlaying:!1,cooldown:5,init:function(e,t,s){this.parent(e,t,s),ig.global.wm||(this.sunProp=ig.game.spawnEntity(EntitySun,this.pos.x,this.pos.y,{attachee:this}),this.sunSoundTrack.add(this.sunSound),this.sunSoundTrack.volume=1)},update:function(){if(this.parent(),ig.input.state("sun")&&this.sun>0){var e=700,t=ig.game.getEntitiesByType(EntityEnemySpider);t=t.concat(ig.game.getEntitiesByType(EntityEnemyBedbug)),t=t.concat(ig.game.getEntitiesByType(EntityCouch));for(var s=0;s<t.length;s++)t[s].pos.x<this.pos.x+e&&t[s].pos.x>this.pos.x-e&&t[s].pos.y<this.pos.y+e&&t[s].pos.y>this.pos.y-e&&t[s].receiveSunDamage(.5,this);this.sun--,this.sunProp.active=!0,this.sunSoundPlaying||(this.sunSoundTrack.play(),this.sunSoundPlaying=!0)}else this.sunProp.active=!1,this.sunSoundPlaying&&(this.sunSoundTrack.stop(),this.sunSoundPlaying=!1);this.sunProp.attacheeUpdate(this.pos.x,this.pos.y,this.size.x,this.size.y)},triggeredBy:function(e,t){"winTrigger"==t.name&&(ig.music.stop(),ig.game.loadLevelDeferred(LevelWin))},sunPowerup:function(e){this.sun+=e},shoot:function(){ig.game.spawnEntity(EntityFireParticleDamage,this.pos.x+this.size.x/2,this.pos.y+this.size.y/2,{flip:this.flip,d:{x:ig.input.mouse.x,y:ig.input.mouse.y},vel:this.vel}),this.cooldown=2,this.arm.fire()}}),EntitySun=ig.Entity.extend({size:{x:64,y:16},type:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NONE,gravityFactor:0,zIndex:99999,active:!1,init:function(e,t,s){this.parent(e,t,s),this.pos.x=e,this.pos.y=t,this.attachedTo=s.attachee},attacheeUpdate:function(e,t,s,n){this.pos={x:e+s/2,y:t+n/2}},draw:function(){if(this.parent(),this.active){var e=this.attachedTo.pos.x-ig.game.screen.x+this.attachedTo.size.x/2,t=this.attachedTo.pos.y-ig.game.screen.y+this.attachedTo.size.y/2;ig.system.context.rect(0,0,ig.system.width,ig.system.height);var s=ig.system.context.createRadialGradient(e,t,40,e,t,1e3);s.addColorStop(0,"rgba(255,255,0,1)"),s.addColorStop(.1,"rgba(255,255,0,.3)"),s.addColorStop(1,"rgba(255,255,0,0)"),ig.system.context.fillStyle=s,ig.system.context.fill()}}})}),ig.baked=!0,ig.module("game.entities.enemy").requires("game.entities.character").defines(function(){EntityEnemy=EntityCharacter.extend({type:ig.Entity.TYPE.B,checkAgainst:ig.Entity.TYPE.A,bulletDamage:!0})}),ig.baked=!0,ig.module("game.entities.enemyBedbug").requires("game.entities.enemy").defines(function(){EntityEnemyBedbug=EntityEnemy.extend({type:ig.Entity.TYPE.B,checkAgainst:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.PASSIVE,maxVel:{x:400,y:400},friction:{x:300,y:0},size:{x:64,y:64},offset:{x:0,y:0},speed:100,health:50,animSheet:new ig.AnimationSheet("media/bedbug.png",64,64),init:function(e,t,s){this.parent(e,t,s),this.addAnim("idle",1,[0]),this.addAnim("walk",.3,[0,1]),this.currentAnim=this.anims.walk},update:function(){ig.game.collisionMap.getTile(this.pos.x+(this.flip?4:this.size.x-4),this.pos.y+this.size.y+1)||(this.flip=!this.flip),ig.game.collisionMap.getTile(this.pos.x+(this.flip?-4:this.size.x+4),this.pos.y+10)&&(this.flip=!this.flip);var e=this.flip?-1:1;this.vel.x=this.speed*e,this.parent()},receiveSunDamage:function(e,t){for(this.receiveDamage(e,t),i=0;1>i;i++)ig.game.spawnEntity(EntityAshParticle,this.pos.x,this.pos.y,{width:this.size.x,height:this.size.y})},check:function(e){e.receiveDamage(10,this),this.kill()}})}),ig.baked=!0,ig.module("game.entities.trigger").requires("impact.entity").defines(function(){EntityTrigger=ig.Entity.extend({size:{x:64,y:64},_wmScalable:!0,_wmDrawBox:!0,_wmBoxColor:"rgba(196, 255, 0, 0.7)",target:null,wait:-1,waitTimer:null,canFire:!0,type:ig.Entity.TYPE.NONE,checkAgainst:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,init:function(e,t,s){s.checks&&(this.checkAgainst=ig.Entity.TYPE[s.checks.toUpperCase()]||ig.Entity.TYPE.A,delete s.check),this.parent(e,t,s),this.waitTimer=new ig.Timer},check:function(e){if(this.canFire&&this.waitTimer.delta()>=0){if("object"==typeof this.target)for(var t in this.target){var s=ig.game.getEntityByName(this.target[t]);s&&"function"==typeof s.triggeredBy&&s.triggeredBy(e,this)}-1==this.wait?this.canFire=!1:this.waitTimer.set(this.wait)}},update:function(){}})}),ig.baked=!0,ig.module("game.entities.levelLogic").requires("impact.entity").defines(function(){EntityLevelLogic=ig.Entity.extend({size:{x:64,y:64},_wmDrawBox:!0,_wmBoxColor:"rgba(0, 0, 255, 0.4)",paused:!1,ignorePause:!0,levelMusic:new ig.Sound("media/sound/loop_level1.*"),init:function(e,t,s){this.parent(e,t,s),ig.global.wm||(ig.game.spawnEntity(EntityHealthbar),ig.game.spawnEntity(EntityKeybinder),ig.music.add(this.levelMusic),ig.music.volume=.1,ig.music.play())},update:function(){this.parent(),ig.input.pressed("pause")&&(ig.game.togglePause(),this.paused?ig.music.play():ig.music.pause(),this.paused=!this.paused)}}),EntityHealthbar=ig.Entity.extend({_wmIgnore:!0,draw:function(){var e=ig.game.getEntitiesByType(EntityPlayer)[0];if(e){newhp=e.health,maxhp=e.maxHealth,newhp>maxhp&&(newhp=maxhp);var t=150,s=30,n=10,i=10,r=newhp/maxhp*t;ig.system.context.beginPath(),ig.system.context.rect(n,i,r,s),ig.system.context.fillStyle="red",ig.system.context.fill(),ig.system.context.beginPath(),ig.system.context.rect(n,i,t,s),ig.system.context.strokeStyle="black",ig.system.context.lineWidth=1,ig.system.context.stroke()}}}),EntityKeybinder=ig.Entity.extend({_wmIgnore:!0,init:function(){ig.input.bind(ig.KEY.A,"left"),ig.input.bind(ig.KEY.D,"right"),ig.input.bind(ig.KEY.W,"jump"),ig.input.bind(ig.KEY.MOUSE1,"shoot"),ig.input.bind(ig.KEY.ESC,"pause")}})}),ig.baked=!0,ig.module("game.entities.level1Logic").requires("game.entities.levelLogic").defines(function(){EntityLevel1Logic=EntityLevelLogic.extend({init:function(e,t,s){this.parent(e,t,s),ig.global.wm||ig.game.spawnEntity(EntitySunbar)}}),EntitySunbar=ig.Entity.extend({_wmIgnore:!0,draw:function(){var e=ig.game.getEntitiesByType(EntityPlayerL1)[0];if(e){newsp=e.sun,maxsp=e.maxSun,newsp>maxsp&&(newsp=maxsp);var t=150,s=30,n=170,i=10,r=newsp/maxsp*t;ig.system.context.beginPath(),ig.system.context.rect(n,i,r,s),ig.system.context.fillStyle="yellow",ig.system.context.fill(),ig.system.context.beginPath(),ig.system.context.rect(n,i,t,s),ig.system.context.strokeStyle="black",ig.system.context.lineWidth=1,ig.system.context.stroke()}}}),EntityKeybinder=ig.Entity.extend({_wmIgnore:!0,init:function(){ig.input.bind(ig.KEY.A,"left"),ig.input.bind(ig.KEY.D,"right"),ig.input.bind(ig.KEY.W,"jump"),ig.input.bind(ig.KEY.MOUSE1,"shoot"),ig.input.bind(ig.KEY.ESC,"pause"),ig.input.bind(ig.KEY.SPACE,"sun")}})}),ig.baked=!0,ig.module("game.entities.text").requires("impact.entity").defines(function(){EntityText=ig.Entity.extend({size:{x:64,y:64},_wmDrawBox:!0,_wmBoxColor:"rgba(0,255,0,0.4)",ignorePause:!1,font:new ig.Font("media/impact_bitmap_25pt.png"),alignment:ig.Font.ALIGN.CENTER,time:2,timer:null,name:"Text box",val:"Hello, world!",activated:!1,type:ig.Entity.TYPE.NONE,checkAgainst:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,init:function(e,t,s){this.parent(e,t,s)},update:function(){this.parent(),this.activated&&null!=this.timer?this.timer.delta()>=0&&(this.activated=!1,this.timer=null):this.activated&&null==this.timer&&(this.timer=new ig.Timer(this.time))},draw:function(){this.parent(),this.activated&&!ig.global.wm&&this.font.draw(this.val,ig.system.width/2,50,this.alignment)},triggeredBy:function(){console.log(this.val),this.activated=!0}})}),ig.baked=!0,ig.module("game.entities.staticImage").requires("impact.entity").defines(function(){EntityStaticImage=ig.Entity.extend({size:{x:64,y:64},type:ig.Entity.TYPE.NONE,checkAgainst:ig.Entity.TYPE.NONE,collides:ig.Entity.TYPE.NEVER,_wmDrawBox:!0,_wmBoxColor:"rgba(255,224,122,0.4)",_wmIgnore:!0,animSheet:new ig.AnimationSheet("media/null.png",64,64),init:function(e,t,s){this.parent(e,t,s),this.addAnim("idle",1,[0])}})}),ig.baked=!0,ig.module("game.entities.winFlag").requires("game.entities.staticImage").defines(function(){EntityWinFlag=EntityStaticImage.extend({_wmIgnore:!1,animSheet:new ig.AnimationSheet("media/winFlag.png",64,64)})}),ig.baked=!0,ig.module("game.levels.1").requires("impact.image","game.entities.playerL1","game.entities.enemyBedbug","game.entities.trigger","game.entities.level1Logic","game.entities.text","game.entities.winFlag").defines(function(){Level1={entities:[{type:"EntityPlayerL1",x:12,y:380,settings:{name:"PlayerLevel1"}},{type:"EntityEnemyBedbug",x:1768,y:380},{type:"EntityTrigger",x:888,y:80,settings:{size:{x:72,y:368},target:{1:"initStory"}}},{type:"EntityTrigger",x:5840,y:1112,settings:{size:{x:104,y:104},name:"winTrigger",target:{1:"PlayerLevel1"}}},{type:"EntityLevel1Logic",x:1296,y:-244},{type:"EntityEnemyBedbug",x:2424,y:384},{type:"EntityText",x:928,y:-96,settings:{name:"initStory",val:"Is that... is that a fucking bedbug?"}},{type:"EntityEnemyBedbug",x:2676,y:384},{type:"EntityEnemyBedbug",x:1108,y:380},{type:"EntityEnemyBedbug",x:2036,y:384},{type:"EntityWinFlag",x:5884,y:1148},{type:"EntityTrigger",x:3136,y:-108,settings:{size:{x:192,y:428},target:{1:"story2"}}},{type:"EntityText",x:3240,y:-324,settings:{name:"story2",val:"There are a fucking lot of them.  They hurt, too."}},{type:"EntityEnemyBedbug",x:4192,y:256},{type:"EntityEnemyBedbug",x:4492,y:256},{type:"EntityEnemyBedbug",x:4768,y:256},{type:"EntityEnemyBedbug",x:5024,y:256},{type:"EntityEnemyBedbug",x:3828,y:256},{type:"EntityText",x:5596,y:-460,settings:{name:"story3",val:"What I really need is something to burn them out."}},{type:"EntityTrigger",x:5312,y:-116,settings:{size:{x:404,y:308},target:{1:"story3"}}}],layer:[{name:"skyLayer",width:1,height:1,linkWithCollision:!1,visible:0,tilesetName:"media/tileset_bg_2.png",repeat:!0,preRender:!0,distance:"2",tilesize:64,foreground:!1,data:[[1]]},{name:"sunLayer",width:10,height:10,linkWithCollision:!1,visible:0,tilesetName:"media/sun.png",repeat:!1,preRender:!0,distance:"100",tilesize:64,foreground:!1,data:[[0,0,0,0,0,0,0,0,0,0],[0,0,1,2,0,0,0,0,0,0],[0,0,3,4,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]]},{name:"background",width:7,height:30,linkWithCollision:!1,visible:0,tilesetName:"media/tileset_bg_2.png",repeat:!0,preRender:!0,distance:"2",tilesize:64,foreground:!1,data:[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[2,3,4,5,6,7,8],[10,11,12,13,14,15,16],[9,9,9,9,9,9,9],[9,9,9,9,9,9,9],[9,9,9,9,9,9,9],[9,9,9,9,9,9,9],[9,9,9,9,9,9,9],[9,9,9,9,9,9,9],[9,9,9,9,9,9,9],[9,9,9,9,9,9,9],[9,9,9,9,9,9,9],[9,9,9,9,9,9,9],[9,9,9,9,9,9,9],[9,9,9,9,9,9,9],[9,9,9,9,9,9,9],[9,9,9,9,9,9,9],[9,9,9,9,9,9,9],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]]},{name:"bgBuildings2",width:20,height:45,linkWithCollision:!1,visible:0,tilesetName:"media/building.png",repeat:!0,preRender:!0,distance:"1.7",tilesize:64,foreground:!1,data:[[0,0,0,6,7,8,9,10,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,11,12,13,14,15,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,16,17,18,19,20,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,11,12,13,14,15,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,16,17,18,19,20,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,11,12,13,14,15,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,16,17,18,19,20,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,11,12,13,14,15,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,16,17,18,19,20,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,11,12,13,14,15,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,16,17,18,19,20,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,11,12,13,14,15,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,16,17,18,19,20,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,11,12,13,14,15,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,16,17,18,19,20,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,11,12,13,14,15,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,16,17,18,19,20,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,11,12,13,14,15,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,16,17,18,19,20,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,11,12,13,14,15,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,16,17,18,19,20,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,16,17,38,17,15,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,16,17,43,19,20,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},{name:"bgBuildings",width:30,height:45,linkWithCollision:!1,visible:0,tilesetName:"media/building.png",repeat:!0,preRender:!0,distance:"1.5",tilesize:64,foreground:!1,data:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[7,8,9,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,7,8,7,8,7,8],[12,13,14,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,12,13,12,13,12,13],[17,18,19,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,13,13,13,13,13,13],[12,13,14,15,0,0,0,0,6,7,8,7,8,7,8,7,8,7,8,7,8,7,10,21,12,13,12,13,12,13],[17,18,19,20,0,0,0,0,11,12,13,12,13,12,13,12,13,12,13,12,13,12,15,26,13,13,13,13,13,13],[12,13,14,25,0,0,0,0,16,17,18,17,18,17,18,17,18,17,18,17,18,17,20,31,12,13,12,13,12,13],[17,18,19,30,0,0,0,0,11,12,13,12,13,12,13,12,13,12,13,12,13,12,25,36,13,13,13,13,13,13],[12,13,14,35,0,0,0,0,11,17,18,17,18,17,18,17,18,17,18,17,18,17,30,11,12,32,12,32,12,32],[17,18,19,15,0,0,0,0,11,12,13,12,13,12,13,12,13,12,13,12,13,12,15,16,33,32,33,32,33,32],[12,13,14,20,0,0,0,0,11,17,18,17,18,17,18,17,18,17,18,17,18,17,20,21,12,13,12,13,12,13],[17,18,19,25,0,0,0,0,11,12,13,12,13,12,13,12,13,12,13,12,13,12,25,26,13,13,13,13,13,13],[12,13,14,15,0,0,0,0,11,17,18,17,18,17,18,17,18,17,18,17,18,17,30,31,12,13,12,13,12,13],[17,18,19,20,0,0,0,0,16,12,13,12,13,12,13,12,13,12,13,12,13,12,35,11,13,13,13,13,13,13],[12,13,14,25,0,0,0,0,11,17,18,17,18,17,18,17,18,17,18,17,18,17,15,11,12,32,12,32,12,32],[17,18,19,30,0,0,0,0,11,12,13,12,13,12,13,12,13,12,13,12,13,12,15,16,33,32,33,32,33,32],[12,13,14,35,0,0,0,0,11,17,18,17,18,17,18,17,18,17,18,17,18,17,20,21,12,32,12,32,12,32],[17,18,19,40,0,0,0,0,11,22,22,22,18,22,18,19,17,22,22,22,22,22,25,26,32,32,32,32,33,34],[38,28,29,30,0,0,0,0,11,22,22,22,32,22,32,38,32,22,22,22,22,22,30,31,22,23,22,23,24,34],[43,33,34,35,0,0,0,0,16,32,32,32,32,32,32,43,32,32,32,32,32,32,35,31,32,33,34,32,33,34],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},{name:"collision",width:150,height:20,linkWithCollision:!1,visible:1,tilesetName:"",repeat:!1,preRender:!1,distance:1,tilesize:64,foreground:!1,data:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},{name:"main",width:150,height:20,linkWithCollision:!0,visible:1,tilesetName:"media/Tileset2.png",repeat:!1,preRender:!0,distance:"1",tilesize:64,foreground:!1,data:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[2,2,2,2,2,2,2,2,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]}]},Level1Resources=[new ig.Image("media/tileset_bg_2.png"),new ig.Image("media/sun.png"),new ig.Image("media/tileset_bg_2.png"),new ig.Image("media/building.png"),new ig.Image("media/building.png"),new ig.Image("media/Tileset2.png")]
}),ig.baked=!0,ig.module("game.entities.mainMenu").requires("impact.entity").defines(function(){EntityMainMenu=ig.Entity.extend({name:"mainMenu",font:new ig.Font("media/impact_bitmap.png"),redFont:new ig.Font("media/impact_bitmap_red.png"),items:[{text:"PLAY",exec:function(){ig.game.loadLevel(Level1)}},{text:"OPTIONS",exec:function(){console.log("clicked options")}}],hitboxList:[],initYOffset:100,initXOffset:150,ySpacing:100,alignment:ig.Font.ALIGN.CENTER,currSelected:null,_wmDrawBox:!0,_wmBoxColor:"rgba(255, 0, 0, 0.4)",animSheet:new ig.AnimationSheet("media/null.png",64,64),collision:ig.Entity.COLLIDES.NONE,type:ig.Entity.TYPE.NONE,checkAgainst:ig.Entity.TYPE.NONE,size:{x:64,y:64},offset:{x:0,y:0},init:function(e,t,s){if(this.parent(e,t,s),this.addAnim("idle",1,[0]),!ig.global.wm){for(var n=0;n<this.items.length;n++){var i=this.font.widthForString(this.items[n].text),r=this.font.heightForString(this.items[n].text),a={x:ig.system.width/2-i/2+this.initXOffset,y:this.initYOffset+n*this.ySpacing},o={x:ig.system.width/2+i/2+this.initXOffset,y:this.initYOffset+n*this.ySpacing+r};this.hitboxList.push(new hitbox(a,o,n))}ig.input.initMouse(),ig.input.bind(ig.KEY.MOUSE1,"shoot"),ig.game.clearColor="#ffffff"}},update:function(){this.parent(),this.currentAnim=this.anims.idle,this.currSelected=null;for(var e=0;e<this.hitboxList.length;e++)this.hitboxList[e].isTouching(ig.input.mouse.x,ig.input.mouse.y)&&(this.currSelected=this.hitboxList[e].key);ig.input.state("shoot")&&null!=this.currSelected&&this.items[this.currSelected].exec()},draw:function(){if(this.parent(),!ig.global.wm)for(var e=0;e<this.items.length;e++)e!=this.currSelected?this.font.draw(this.items[e].text,this.initXOffset+ig.system.width/2,this.initYOffset+e*this.ySpacing,this.alignment):this.redFont.draw(this.items[e].text,this.initXOffset+ig.system.width/2,this.initYOffset+e*this.ySpacing,this.alignment)},createHitbox:function(e,t,s){this.hitboxList.push(new hitbox(e,t,s))}})});var hitbox=function(e,t,s){this.pos1={},this.pos2={},this.pos1.x=e.x,this.pos1.y=e.y,this.pos2.x=t.x,this.pos2.y=t.y,this.key=s,this.isTouching=function(e,t){return e>this.pos1.x&&e<this.pos2.x&&t>this.pos1.y&&t<this.pos2.y}};ig.baked=!0,ig.module("game.levels.mainMenu").requires("impact.image","game.entities.mainMenu").defines(function(){LevelMainMenu={entities:[{type:"EntityMainMenu",x:272,y:136}],layer:[{name:"bgLayer",width:13,height:10,linkWithCollision:!1,visible:1,tilesetName:"media/menu.jpg",repeat:!1,preRender:!0,distance:"1",tilesize:64,foreground:!1,data:[[33,34,35,36,37,38,39,39,39,39,39,40,41],[48,49,50,51,52,53,54,54,54,54,54,55,56],[63,64,65,66,67,68,69,69,69,69,69,70,71],[78,79,80,81,82,83,84,84,84,84,84,85,86],[93,94,95,96,97,98,99,99,99,99,99,100,101],[108,109,110,111,112,113,114,114,114,114,114,115,116],[123,124,125,126,127,128,129,129,129,129,129,130,131],[138,139,140,141,142,143,144,144,144,144,144,145,146],[153,154,155,156,157,158,159,159,159,159,159,160,161],[168,169,170,171,172,173,174,174,174,174,174,175,176]]}]},LevelMainMenuResources=[new ig.Image("media/menu.jpg")]}),ig.baked=!0,ig.module("game.entities.winMenu").requires("impact.entity").defines(function(){EntityWinMenu=ig.Entity.extend({name:"winMenu",font:new ig.Font("media/impact_bitmap.png"),redFont:new ig.Font("media/impact_bitmap_red.png"),items:[{text:"MAIN MENU",exec:function(){ig.game.loadLevel(LevelMainMenu)}}],hitboxList:[],initYOffset:500,initXOffset:0,ySpacing:100,alignment:ig.Font.ALIGN.CENTER,currSelected:null,_wmDrawBox:!0,_wmBoxColor:"rgba(255, 0, 0, 0.4)",animSheet:new ig.AnimationSheet("media/null.png",64,64),collision:ig.Entity.COLLIDES.NONE,type:ig.Entity.TYPE.NONE,checkAgainst:ig.Entity.TYPE.NONE,size:{x:64,y:64},offset:{x:0,y:0},init:function(e,t,s){if(this.parent(e,t,s),this.addAnim("idle",1,[0]),!ig.global.wm){for(var n=0;n<this.items.length;n++){var i=this.font.widthForString(this.items[n].text),r=this.font.heightForString(this.items[n].text),a={x:ig.system.width/2-i/2+this.initXOffset,y:this.initYOffset+n*this.ySpacing},o={x:ig.system.width/2+i/2+this.initXOffset,y:this.initYOffset+n*this.ySpacing+r};this.hitboxList.push(new hitbox(a,o,n))}ig.input.initMouse(),ig.input.bind(ig.KEY.MOUSE1,"shoot")}},update:function(){this.parent(),this.currentAnim=this.anims.idle,this.currSelected=null;for(var e=0;e<this.hitboxList.length;e++)this.hitboxList[e].isTouching(ig.input.mouse.x,ig.input.mouse.y)&&(this.currSelected=this.hitboxList[e].key);ig.input.state("shoot")&&null!=this.currSelected&&this.items[this.currSelected].exec()},draw:function(){if(this.parent(),!ig.global.wm)for(var e=0;e<this.items.length;e++)e!=this.currSelected?this.font.draw(this.items[e].text,this.initXOffset+ig.system.width/2,this.initYOffset+e*this.ySpacing,this.alignment):this.redFont.draw(this.items[e].text,this.initXOffset+ig.system.width/2,this.initYOffset+e*this.ySpacing,this.alignment)},createHitbox:function(e,t,s){this.hitboxList.push(new hitbox(e,t,s))}})});var hitbox=function(e,t,s){this.pos1={},this.pos2={},this.pos1.x=e.x,this.pos1.y=e.y,this.pos2.x=t.x,this.pos2.y=t.y,this.key=s,this.isTouching=function(e,t){return e>this.pos1.x&&e<this.pos2.x&&t>this.pos1.y&&t<this.pos2.y}};ig.baked=!0,ig.module("game.entities.levelWinLogic").requires("impact.entity").defines(function(){EntityLevelWinLogic=ig.Entity.extend({font:new ig.Font("media/impact_bitmap_large_yellow.png"),initYOffset:25,initXOffset:0,alignment:ig.Font.ALIGN.CENTER,_wmDrawBox:!0,_wmBoxColor:"rgba(0, 125, 125, 0.4)",animSheet:new ig.AnimationSheet("media/null.png",64,64),collision:ig.Entity.COLLIDES.NONE,type:ig.Entity.TYPE.NONE,checkAgainst:ig.Entity.TYPE.NONE,size:{x:64,y:64},offset:{x:0,y:0},init:function(e,t,s){this.parent(e,t,s),this.addAnim("idle",1,[0]),ig.global.wm||(ig.game.clearColor="#969696")},update:function(){this.parent(),this.currentAnim=this.anims.idle},draw:function(){this.parent(),ig.global.wm||this.font.draw("Congratulations!\nYou won!\nPlay again?",this.initXOffset+ig.system.width/2,this.initYOffset,this.alignment)}})}),ig.baked=!0,ig.module("game.levels.win").requires("impact.image","game.entities.winMenu","game.entities.levelWinLogic").defines(function(){LevelWin={entities:[{type:"EntityWinMenu",x:64,y:24},{type:"EntityLevelWinLogic",x:336,y:108}],layer:[]}}),ig.baked=!0,ig.module("plugins.pause").requires("impact.game","impact.timer").defines(function(){ig.Game.inject({paused:!1,pauseDelayTimer:new ig.Timer,pauseButtonDelay:.2,updateEntities:function(){for(var e=0;ent=this.entities[e];e++)ent._killed||this.paused?ent.ignorePause&&ent.update():ent.update()},togglePause:function(e){this.pauseDelayTimer.delta()>this.pauseButtonDelay&&(this.paused=null!=e?e:!this.paused,this.paused?this.onPause():this.onResume(),this.pauseDelayTimer.reset())},onResume:function(){},onPause:function(){}}),ig.Entity.inject({ignorePause:!1})}),ig.baked=!0,ig.module("game.main").requires("plugins.perpixel","impact.game","impact.font","game.entities.bloodParticle","game.entities.ashParticle","game.levels.1","game.levels.mainMenu","game.levels.win","plugins.pause").defines(function(){MyGame=ig.Game.extend({gravity:500,clearColor:"#ffffff",font:new ig.Font("media/04b03.font.png"),scale:1,init:function(){ig.soundManager.volume=.1,this.loadLevel(LevelMainMenu)},update:function(){this.parent();var e=this.getEntitiesByType(EntityPlayer)[0];e&&(this.screen.x=e.pos.x-ig.system.width/2,this.screen.y=e.pos.y-ig.system.height/2)},draw:function(){this.parent();var e=this.getEntitiesByType(EntityPlayer)[0];e&&(this.screen.x=e.pos.x-ig.system.width/2,this.screen.y=e.pos.y-ig.system.height/2)}}),ig.main("#canvas",MyGame,60,800,600,1)});